Query 1.1: Retrieve all posts and the username of the user who created each post. This uses an INNER JOIN to match user_id from the Posts table to user_id in the Users table.

SELECT
    P.post_id,
    P.caption,
    P.mediaURL,
    P.timestamp,
    U.username
FROM
    Posts AS P
JOIN
    Users AS U ON P.user_id = U.user_id;


Query 1.2: Find all comments for a specific post (e.g., Post ID 1) along with the username of the commenter.
This query joins Comments, Posts, and Users to get a complete picture of comments on a post.

SELECT
    C.comment_id,
    C.comment_text,
    U.username AS commenter_username
FROM
    Comments AS C
JOIN
    Users AS U ON C.user_id = U.user_id
WHERE
    C.post_id = 1;


Query 1.3: List all messages sent by a specific user (e.g., User ID 1) to another specific user (e.g., User ID 2).
This query uses aliases to distinguish between the sender and receiver in the Users table.


SELECT
    M.message_id,
    M.message_text,
    M.timestamp,
    Sender.username AS sender,
    Receiver.username AS receiver
FROM
    Messages AS M
JOIN
    Users AS Sender ON M.sender_id = Sender.user_id
JOIN
    Users AS Receiver ON M.receiver_id = Receiver.user_id
WHERE
    M.sender_id = 1 AND M.receiver_id = 2
ORDER BY
    M.timestamp ASC;


2. Aggregate Function Queries
These queries perform calculations on a set of values and return a single value.

Query 2.1: Get the total number of posts made by each user.
This uses COUNT() and GROUP BY to count the number of posts for each user.


SELECT
    U.username,
    COUNT(P.post_id) AS total_posts
FROM
    Users AS U
LEFT JOIN
    Posts AS P ON U.user_id = P.user_id
GROUP BY
    U.username
ORDER BY
    total_posts DESC;


Query 2.2: Find the total number of users and posts in the system.
This query uses COUNT() to get a simple count from each table.


SELECT
    (SELECT COUNT(*) FROM Users) AS total_users,
    (SELECT COUNT(*) FROM Posts) AS total_posts;


Query 2.3: Calculate the average number of likes per post.
This uses AVG() to find the average value in the likeCount column.

SELECT
    AVG(likeCount) AS average_likes
FROM
    Posts;


3. Subqueries
These queries use a nested query to get a result that is then used by the outer query.

Query 3.1: Find the usernames of all users who have created a post.
This query uses a subquery to select distinct user_id values from the Posts table.

SELECT
    username
FROM
    Users
WHERE
    user_id IN (SELECT DISTINCT user_id FROM Posts);


Query 3.2: Identify the post with the most comments.
This subquery first finds the post_id with the maximum comment count, then the outer query selects the post details.

SELECT
    post_id,
    caption,
    timestamp
FROM
    Posts
WHERE
    post_id = (SELECT post_id FROM Comments GROUP BY post_id ORDER BY COUNT(*) DESC LIMIT 1);


4. DML Operations (Data Manipulation Language)
These queries are used to modify the data in the tables.

Query 4.1: Update a user's biography.
This query modifies the bio field for a specific user.

UPDATE
    Users
SET
    bio = 'Experienced data analyst and coding enthusiast.'
WHERE
    username = 'fitness_freak';


Query 4.2: Delete a specific comment from a post (e.g., Comment ID 5).
This query removes a single record from the Comments table.

DELETE FROM
    Comments
WHERE
    comment_id = 5;


Query 4.3: Increment the like count for a specific post (e.g., Post ID 1).
This query updates the likeCount field for a single post.

UPDATE
    Posts
SET
    likeCount = likeCount + 1
WHERE
    post_id = 1;
